<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Agua - Panel Principal</title>
    <link rel="stylesheet" href="../css/mainPage.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <a href="#" class="logout-btn" id="logoutBtn">Cerrar Sesi贸n</a>
            <h1> Sistema de Agua LOTI</h1>
            <p>Panel de Administraci贸n - Gesti贸n Integral de Servicios</p>
        </header>

        <main class="main-content">
            <section class="welcome-section">
                <h2>Bienvenido al Sistema</h2>
                <p>Administra de manera eficiente todos los aspectos del servicio de agua. 
                   Desde la gesti贸n de clientes hasta la generaci贸n de facturas y reportes.</p>
            </section>

            <section class="modules-grid">
                <!-- M贸dulo de Facturaci贸n -->
                <a href="factura.html" class="module-card factura">
                    <div>
                        <div class="module-icon"></div>
                        <h3 class="module-title">Generar Factura</h3>
                        <p class="module-description">
                            Sistema completo de facturaci贸n con generaci贸n autom谩tica de PDF 
                            para impresi贸n t茅rmica.
                        </p>
                    </div>
                    <ul class="module-features">
                        <li>Registro de pagos</li>
                        <li>C谩lculo autom谩tico de tarifas</li>
                        <li>Generaci贸n de PDF</li>
                        <li>Impresi贸n t茅rmica</li>
                        <li>Historial de facturas</li>
                    </ul>
                </a>

                <!-- M贸dulo de Clientes -->
                <a href="clientes.html" class="module-card clientes">
                    <div>
                        <div class="module-icon"></div>
                        <h3 class="module-title">Gesti贸n de Clientes</h3>
                        <p class="module-description">
                            Administra la informaci贸n completa de todos los clientes 
                            del sistema de agua.
                        </p>
                    </div>
                    <ul class="module-features">
                        <li>Registro de nuevos clientes</li>
                        <li>Datos personales completos</li>
                        <li>Informaci贸n de contadores</li>
                        <li>Asignaci贸n por proyectos</li>
                        <li>B煤squeda y filtros</li>
                    </ul>
                </a>

                <!-- M贸dulo de Pagos -->
                <a href="pagos.html" class="module-card pagos">
                    <div>
                        <div class="module-icon"></div>
                        <h3 class="module-title">Control de Pagos</h3>
                        <p class="module-description">
                            Monitorea y gestiona todos los pagos realizados por los clientes 
                            del servicio.
                        </p>
                    </div>
                    <ul class="module-features">
                        <li>Registro de pagos</li>
                        <li>Estados de cuenta</li>
                        <li>Pagos pendientes</li>
                        <li>Historial de transacciones</li>
                        <li>Reportes de cobranza</li>
                    </ul>
                </a>

                <!-- M贸dulo de Dashboard/Reportes -->
                <a href="dashboard.html" class="module-card reportes">
                    <div>
                        <div class="module-icon"></div>
                        <h3 class="module-title">Dashboard & Reportes</h3>
                        <p class="module-description">
                            Visualiza estad铆sticas y genera reportes detallados 
                            del sistema.
                        </p>
                    </div>
                    <ul class="module-features">
                        <li>Estad铆sticas generales</li>
                        <li>Gr谩ficos y m茅tricas</li>
                        <li>Reportes por proyecto</li>
                        <li>An谩lisis de ingresos</li>
                        <li>Exportaci贸n de datos</li>
                    </ul>
                </a>
            </section>

            <!-- Secci贸n de Estad铆sticas R谩pidas -->
            <section class="stats-section">
                <div class="stats-header">
                    <h3 class="stats-title">Estad铆sticas del Sistema</h3>
                    <button id="refreshStats" class="refresh-btn" title="Actualizar estad铆sticas">
                        
                    </button>
                    <div id="loadingIndicator" class="loading-indicator">
                        <span>Cargando...</span>
                    </div>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="totalClientes">0</div>
                        <div class="stat-label">Total Clientes</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="facturasMes">0</div>
                        <div class="stat-label">Facturas este Mes</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="pagosPendientes">0</div>
                        <div class="stat-label">Facturas Pendientes</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="ingresosMes">Q0.00</div>
                        <div class="stat-label">Ingresos del Mes</div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="../js/auth.js"></script>
    <script src="../js/pageProtection.js"></script>
    <script src="../js/mainPageStats.js"></script>

    <script>
        // Agregar efectos de hover y animaciones mejorados
        document.querySelectorAll('.module-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-10px) scale(1.02)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
            });
        });

        // Animaci贸n de entrada para las estad铆sticas
        document.addEventListener('DOMContentLoaded', function() {
            const statNumbers = document.querySelectorAll('.stat-number');
            statNumbers.forEach(stat => {
                stat.style.opacity = '0';
                stat.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    stat.style.transition = 'all 0.6s ease';
                    stat.style.opacity = '1';
                    stat.style.transform = 'translateY(0)';
                }, Math.random() * 500);
            });
        });

        // Asegurar que la p谩gina se cargue correctamente desde arriba
        window.addEventListener('load', function() {
            window.scrollTo(0, 0);
        });
    </script>
</body>
</html>